<mat-card>
  <mat-card-header class="section-container">
    <mat-card-title>Filter by...</mat-card-title>
    <button
      [disabled]="(hasAppliedFilters$ | async) === false"
      mat-button
      class="clear-button"
      color="primary"
      (click)="clearFacets()"
    >
      <mat-icon>clear_all</mat-icon>
      Clear
    </button>
  </mat-card-header>

  <mat-card-content>
      <app-pid-filter
        [clear]="clearSearchBar"
      >
      </app-pid-filter>

      <app-text-filter
        [clear]="clearSearchBar"
      >
      </app-text-filter>

      <app-location-filter
        [clear]="clearSearchBar"
      >
      </app-location-filter>

      <app-group-filter
        [clear]="clearSearchBar"
      >
      </app-group-filter>

      <app-type-filter
        [clear]="clearSearchBar"
      >
      </app-type-filter>

      <app-keyword-filter
        [clear]="clearSearchBar"
      >
      </app-keyword-filter>

      <app-date-range-filter
        [clear]="clearSearchBar"
      >
      </app-date-range-filter>


    <div class="section-container" *ngIf="appConfig.scienceSearchEnabled">
      <button mat-button color="primary" (click)="showAddConditionDialog()">
        <mat-icon>add</mat-icon>
        Add Condition
      </button>

      <mat-chip-listbox class="scientific-chips" aria-orientation="vertical">
        <mat-chip-option
          class="scientific-chip"
          *ngFor="let condition of scientificConditions$ | async; index as i"
        >
          <span class="scientific-chip-text">
            {{ condition.lhs }}
            <ng-container [ngSwitch]="condition.relation">
              <ng-container *ngSwitchCase="'EQUAL_TO_NUMERIC'">
                &nbsp;=&nbsp;
              </ng-container>
              <ng-container *ngSwitchCase="'EQUAL_TO_STRING'">
                &nbsp;=&nbsp;
              </ng-container>
              <ng-container *ngSwitchCase="'LESS_THAN'">
                &nbsp;&lt;&nbsp;
              </ng-container>
              <ng-container *ngSwitchCase="'GREATER_THAN'">
                &nbsp;&gt;&nbsp;
              </ng-container>
            </ng-container>
            {{
            condition.relation === "EQUAL_TO_STRING"
              ? '"' + condition.rhs + '"'
              : condition.rhs
            }}
            {{ condition.unit | prettyUnit }}
          </span>
          <mat-icon matChipRemove (click)="removeCondition(condition, i)"
          >cancel
          </mat-icon
          >
        </mat-chip-option>
      </mat-chip-listbox>
    </div>

    <div class="section-container">
      <button mat-raised-button color="primary" class="applyButton" (click)="applyFilters()">
        Apply
      </button>
    </div>
  </mat-card-content>
</mat-card>
